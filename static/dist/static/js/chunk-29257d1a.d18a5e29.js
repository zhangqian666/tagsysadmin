(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29257d1a"],{"371d":function(t,e,l){"use strict";l.r(e);var n=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"app-container"},[l("el-form",{ref:"form",attrs:{model:t.form}},[l("el-form-item",[l("el-row",[l("el-col",{attrs:{span:16}},[l("el-input",{staticStyle:{"padding-right":"10px"},model:{value:t.form.search_entity,callback:function(e){t.$set(t.form,"search_entity",e)},expression:"form.search_entity"}})],1),l("el-col",{attrs:{span:4}},[l("el-select",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"实体类型"},model:{value:t.form.search_entity_type,callback:function(e){t.$set(t.form,"search_entity_type",e)},expression:"form.search_entity_type"}},t._l(t.form.entity_type,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),l("el-col",{attrs:{span:4}},[l("el-button",{attrs:{type:"primary"},on:{click:t.onSearchEntity}},[t._v("实体查询")])],1)],1)],1),l("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{closable:!1,title:"实体链接"}},[l("el-form-item",{attrs:{label:"问题:","label-width":"120px"}},[l("el-input",{staticStyle:{width:"100%"},model:{value:t.form.question,callback:function(e){t.$set(t.form,"question",e)},expression:"form.question"}})],1),l("el-form-item",{attrs:{label:"实体识别列表:","label-width":"120px"}},[t._l(t.form.entity_list,(function(e,n){return l("el-form-item",{key:n},[l("el-row",{staticStyle:{"padding-bottom":"10px"}},[l("el-col",{attrs:{span:6}},[l("el-input",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"提及"},model:{value:e.mention,callback:function(l){t.$set(e,"mention",l)},expression:"entity_list_item.mention"}})],1),l("el-col",{attrs:{span:6}},[l("el-select",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"实体类型"},model:{value:e.type,callback:function(l){t.$set(e,"type",l)},expression:"entity_list_item.type"}},t._l(t.form.entity_type,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),l("el-col",{attrs:{span:12}},[t._l(e.entitys,(function(e,n){return l("el-form-item",{key:n,staticStyle:{"margin-bottom":"10px"}},[l("el-input",{staticStyle:{width:"50%","padding-right":"10px"},attrs:{placeholder:"知识图谱中实体"},model:{value:e.entity,callback:function(l){t.$set(e,"entity",l)},expression:"entity_item.entity"}}),l("el-input",{staticStyle:{width:"50%","padding-right":"10px"},attrs:{placeholder:"id"},model:{value:e.system_id,callback:function(l){t.$set(e,"system_id",l)},expression:"entity_item.system_id"}})],1)})),l("el-button",{attrs:{type:"primary"},on:{click:function(l){return t.onEntityItemsADD(e.entitys)}}},[t._v("增加")]),l("el-button",{attrs:{type:"primary"},on:{click:function(l){return t.onEntityItemsIncrease(e.entitys)}}},[t._v("减少")])],2)],1)],1)})),l("el-button",{attrs:{type:"primary"},on:{click:t.onEntityADD}},[t._v("增加")]),l("el-button",{attrs:{type:"primary"},on:{click:t.onEntityIncrease}},[t._v("减少")])],2)],1),t._l(t.form.questions_word_list,(function(e){return l("div",{key:e.value},[l("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{closable:e.closble,title:"多个问题词:",type:"success"}},[l("el-form-item",{attrs:{label:"问题词:","label-width":"120px"}},[l("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"问题词"},model:{value:e.question_words,callback:function(l){t.$set(e,"question_words",l)},expression:"questions_word_item.question_words"}})],1),l("el-form-item",{attrs:{label:"问题类型:","label-width":"120px"}},[l("el-radio-group",{model:{value:e.question_words_type,callback:function(l){t.$set(e,"question_words_type",l)},expression:"questions_word_item.question_words_type"}},t._l(t.form.question_words_types,(function(t){return l("el-radio",{key:t.value,attrs:{label:t.label}})})),1)],1),l("el-form-item",{attrs:{label:"答案路径:","label-width":"120px"}},[t._l(e.answer_entity_list,(function(e,n){return l("el-form-item",{key:n},[l("el-row",{staticStyle:{"padding-bottom":"10px"}},[l("el-col",{attrs:{span:4}},[l("el-input",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"实体1"},model:{value:e.entity1,callback:function(l){t.$set(e,"entity1",l)},expression:"item.entity1"}})],1),l("el-col",{attrs:{span:2}},[l("el-input",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"id"},model:{value:e.system1_id,callback:function(l){t.$set(e,"system1_id",l)},expression:"item.system1_id"}})],1),l("el-col",{attrs:{span:2}},[l("el-select",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"路径类型"},model:{value:e.entity1_path_type,callback:function(l){t.$set(e,"entity1_path_type",l)},expression:"item.entity1_path_type"}},t._l(t.form.entity_path_type,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),l("el-col",{attrs:{span:7}},[l("el-autocomplete",{staticClass:"inline-input",staticStyle:{"padding-left":"30px"},attrs:{"fetch-suggestions":t.querySearch(e.system1_id),placeholder:"属性类型"},on:{select:function(l){return t.handleSelect(e)}},model:{value:e.attr,callback:function(l){t.$set(e,"attr",l)},expression:"item.attr"}})],1),l("el-col",{attrs:{span:5}},[l("el-autocomplete",{staticClass:"inline-input",staticStyle:{"padding-right":"30px"},attrs:{placeholder:"实体2","value-key":"content","fetch-suggestions":t.querySearch2(e)},on:{select:function(l){t.handleSelect2(l,e)}},model:{value:e.entity2,callback:function(l){t.$set(e,"entity2",l)},expression:"item.entity2"}})],1),l("el-col",{attrs:{span:2}},[l("el-input",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"id"},model:{value:e.system2_id,callback:function(l){t.$set(e,"system2_id",l)},expression:"item.system2_id"}})],1),l("el-col",{attrs:{span:2}},[l("el-select",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"路径类型"},model:{value:e.entity2_path_type,callback:function(l){t.$set(e,"entity2_path_type",l)},expression:"item.entity2_path_type"}},t._l(t.form.entity_path_type,(function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),l("el-row",{staticStyle:{"padding-bottom":"10px"}},[l("el-col",{attrs:{span:15}},[l("el-switch",{attrs:{"active-text":"开启实体1整体Verse","on-value":"1","off-value":"0"},model:{value:e.entity1_all_change,callback:function(l){t.$set(e,"entity1_all_change",l)},expression:"item.entity1_all_change"}})],1),l("el-col",{attrs:{span:9}},[l("el-switch",{attrs:{"active-text":"开启实体2整体Verse","on-value":"1","off-value":"0"},model:{value:e.entity2_all_change,callback:function(l){t.$set(e,"entity2_all_change",l)},expression:"item.entity2_all_change"}})],1)],1)],1)})),l("el-button",{attrs:{type:"primary"},on:{click:function(l){return t.onAnswerEntityADD(e)}}},[t._v("增加")]),l("el-button",{attrs:{type:"primary"},on:{click:function(l){return t.onAnswerEntityIncrease(e)}}},[t._v("减少")])],2),l("el-form-item",{attrs:{label:"是否有答案路径:","label-width":"120px"}},[l("el-radio-group",{model:{value:e.answer_type,callback:function(l){t.$set(e,"answer_type",l)},expression:"questions_word_item.answer_type"}},t._l(t.form.answer_types,(function(t){return l("el-radio",{key:t.value,attrs:{label:t.label}})})),1)],1),l("el-form-item",{attrs:{label:"答案:","label-width":"120px"}},[l("el-row",{staticStyle:{"padding-bottom":"10px"}},[l("el-col",{attrs:{span:6}},[l("el-input",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"答案"},model:{value:e.answer,callback:function(l){t.$set(e,"answer",l)},expression:"questions_word_item.answer"}})],1),l("el-col",{attrs:{span:2}},[l("el-input",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"id"},model:{value:e.answer_id,callback:function(l){t.$set(e,"answer_id",l)},expression:"questions_word_item.answer_id"}})],1)],1)],1),l("el-form-item",{attrs:{label:"备注:","label-width":"120px"}},[l("el-input",{staticStyle:{"padding-right":"10px"},attrs:{placeholder:"备注"},model:{value:e.notes,callback:function(l){t.$set(e,"notes",l)},expression:"questions_word_item.notes"}})],1)],1)],1)})),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:t.onQuestionsWordListADD}},[t._v("增加问题词")]),l("el-button",{attrs:{type:"primary"},on:{click:t.onQuestionsWordListIncrease}},[t._v("减少问题词")])],1),l("el-button",{staticStyle:{"margin-left":"50%"},attrs:{type:"primary"},on:{click:t.uploadEndData}},[t._v("提交表单")]),l("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[t._l(t.text_list,(function(e,n){return l("el-form-item",{key:n},[t._v(t._s(e))])})),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],2),l("el-dialog",{attrs:{title:"提示",visible:t.upload_dialogVisible},on:{"update:visible":function(e){t.upload_dialogVisible=e}}},[l("span",[t._v(t._s(t.upload_text))]),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.upload_dialogVisible=!1}}},[t._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:t.uploaddata}},[t._v("确 定")])],1)])],2)],1)},i=[],a=(l("159b"),l("b0c0"),l("b775"));function s(t){return Object(a["a"])({url:"/entity",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/poetry",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/update/end_data",method:"post",params:t})}function c(t){return Object(a["a"])({url:"/poetry/entity_attr",method:"get",params:t})}function u(t){return Object(a["a"])({url:"/poetry/get_entity_value",method:"get",params:t})}var p=l("4360"),y={data:function(){return{dialogVisible:!1,upload_dialogVisible:!1,text_list:["正在搜索中"],upload_text:{},form:{search_entity:"",search_entity_type:"Verse",entity_type:[{label:"Poetry",value:"Poetry"},{label:"Verse",value:"Verse"},{label:"Poetrything",value:"Poetrything"},{label:"Genre",value:"Genre"},{label:"People",value:"People"},{label:"Location",value:"Location"},{label:"Dynasty",value:"Dynasty"},{label:"Others",value:"Others"}],entity_path_type:[{label:"存在",value:0},{label:"中间",value:1},{label:"答案",value:2}],question_words_types:[{label:"诗/诗句和人物",value:0},{label:"诗句和诗",value:1},{label:"诗词和释义",value:2},{label:"诗句和释义",value:3},{label:"诗/诗句和状物",value:4},{label:"上下句",value:5},{label:"其他",value:6}],answer_types:[{label:"无法解决",value:0},{label:"缺失路径",value:1},{label:"完美解决",value:2}],question:"李白是哪个朝代的？",question_id:0,entity_list:[{mention:"",type:"People",entitys:[{entity:"",system_id:""}]}],questions_word_list:[{question_words:"",question_words_type:"其他",answer_entity_list:[{entity1:"",entity1_all_change:!1,entity1_path_type:"",system1_id:"",attr:"",entity2:"",entity2_all_change:!1,entity2_list:[],entity2_path_type:"",system2_id:""}],answer:"",answer_id:"",answer_type:"完美解决",notes:"",value:0,closble:!1}]}}},created:function(){this.getDefaultPoetry()},methods:{onSearchEntity:function(){var t=this;this.text_list=["正在搜索中"],this.dialogVisible=!0,s({entity_name:this.form.search_entity,entity_ner:this.form.search_entity_type}).then((function(e){console.log(e),t.text_list=e.data})).catch((function(e){t.$message(e)}))},onEntityADD:function(){this.form.entity_list.push({mention:"",type:"People",entitys:[{entity:"",system_id:""}]})},onEntityIncrease:function(){1!==this.form.entity_list.length&&this.form.entity_list.pop()},onAnswerEntityADD:function(t){t.answer_entity_list.push({entity1:"",attr:"",entity2:""})},onAnswerEntityIncrease:function(t){1!==t.answer_entity_list.length&&t.answer_entity_list.pop()},onQuestionsWordListADD:function(){this.form.questions_word_list.push({question_words:"",question_words_type:"",answer_entity_list:[{entity1:"",attr:"",entity2:""}],answer:"",answer_id:"",value:0,closble:!1})},onQuestionsWordListIncrease:function(){1!==this.form.questions_word_list.length&&this.form.questions_word_list.pop()},onEntityItemsADD:function(t){console.log(this.form.entity_list),t.push({entity:"",system_id:""})},onEntityItemsIncrease:function(t){1!==t.length&&t.pop()},querySearch:function(t){if(""!==t)return function(e,l){var n=[];c({id:t}).then((function(t){var e=t.data;console.log(e),e.forEach((function(t){n.push({value:t})}))})),console.log(n),l(n)}},querySearch2:function(t){if(""!==t.attr)return function(e,l){u({id:t.system1_id,attr:t.attr}).then((function(t){var e=[],n=t.data;n.forEach((function(t){e.push({content:t.content,ID:t.ID})})),l(e)}))}},handleSelect:function(t){this.$message(t.attr)},handleSelect2:function(t,e){e.system2_id=t.ID},getDefaultEntity:function(){var t=this;s().then((function(e){t.$message(e)})).catch((function(e){t.$message(e)}))},getDefaultPoetry:function(){var t=this;o().then((function(e){var l=e.data.content;t.form.question=l,t.form.question_id=e.data.id,t.$message(l)})).catch((function(e){t.$message(e)}))},getPoertyEntityValues:function(t,e){var l=this;u({id:t,attr:e}).then((function(t){console.log(t),l.$message(t)}))},uploadEndData:function(){this.upload_dialogVisible=!0,this.upload_text={id:this.form.question_id,username:p["a"].getters.name,taged_data:{question:this.form.question,entity_list:this.form.entity_list,questions_word_list:this.form.questions_word_list}}},uploaddata:function(){var t=this;r(this.upload_text).then((function(e){t.$message(e.data)})),this.upload_dialogVisible=!1}}},d=y,_=(l("4443"),l("2877")),m=Object(_["a"])(d,n,i,!1,null,"40d1e414",null);e["default"]=m.exports},4443:function(t,e,l){"use strict";l("a894")},a894:function(t,e,l){}}]);